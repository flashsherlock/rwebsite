---
title: 3d visualizations of MRI data
author: Fei
date: '2025-03-31'
slug: 3d-visualizations-of-mri-data
categories:
  - Instruction
tags:
  - data
  - fMRI
  - plot
weight: 1
draft: no
output:
  blogdown::html_page:
    toc: yes
    toc_depth: 1
    number_sections: yes
---


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#convert-nii-to-vtk" id="toc-convert-nii-to-vtk"><span class="toc-section-number">2</span> Convert nii to VTK</a></li>
<li><a href="#render-in-3d" id="toc-render-in-3d"><span class="toc-section-number">3</span> Render in 3d</a></li>
<li><a href="#references" id="toc-references"><span class="toc-section-number">4</span> References</a></li>
</ul>
</div>

<div id="introduction" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>I found 3d visualization is really useful for understanding MRI results. Here is a brief guide which is mainly based on <a href="https://f1000research.com/articles/4-466/v1">this paper</a>.</p>
</div>
<div id="convert-nii-to-vtk" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Convert nii to VTK</h1>
<p>First of all, we should convert nii files to VTK format using <a href="https://www.itksnap.org/">ITK-SNAP</a>.</p>
<ol style="list-style-type: decimal">
<li>Open a main image (e.g. whole brain mask).</li>
<li>Open a segmentation (e.g. ROIs).</li>
<li>Export as surface mesh and select labels.</li>
<li>Save as “VTK PolyData File”. Separate files will be named as “prefix+value”.</li>
<li>A 3d view will be open in the bottom-left window after saving.</li>
</ol>
<p><img src="images/itksnap.jpg" style="width: 85%; display: block; margin:0 auto"/>
<!-- ![](images/itksnap.jpg) --></p>
</div>
<div id="render-in-3d" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Render in 3d</h1>
<p><a href="https://www.paraview.org/">ParaView</a> is an open source visualization application which could render VTK files as surface in 3d.</p>
<ol style="list-style-type: decimal">
<li>Open VTK files, and press Apply (Open as a group will generate time series).</li>
<li>Show all in the pipeline browser.</li>
<li>Select every file and add a <code>Group Datasets</code> filter.</li>
<li>Change properties.</li>
<li>Save state.</li>
</ol>
<p><img src="images/paraview.jpg" style="width: 50%; display: block; margin:0 auto"/>
<!-- ![](images/paraview.jpg) --></p>
</div>
<div id="references" class="section level1" number="4">
<h1><span class="header-section-number">4</span> References</h1>
<ul>
<li><a href="https://www.itksnap.org/pmwiki/pmwiki.php?n=Documentation.SNAP3">ITK-SNAP Documentation</a></li>
<li><a href="https://docs.paraview.org/en/latest/Tutorials/index.html">ParaView tutorials</a></li>
<li><a href="https://www.bilibili.com/video/BV1mb4y167mJ">ParaView video tutorials</a></li>
<li><a href="https://cfdengine.com/newsletter/174/">Animating a slice in ParaView</a></li>
<li><a href="https://discourse.paraview.org/t/how-to-link-paraview-filter-details-between-views/7020/3">Link properties in ParaView</a></li>
</ul>
</div>
